{% load static %}
<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SIGG-EDU</title>
 
  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">

  <!-- Icons Bootstrap y Font Awesome -->
  <link rel="stylesheet" href="{% static 'bootstrap-5.3.3-dist/css/bootstrap-icons.min.css' %}">    
  <link rel="stylesheet" href="{% static 'plugins/fontawesome-free-6/css/fontawesome.css' %}">
  <link rel="stylesheet" href="{% static 'plugins/fontawesome-free-6/css/brands.css' %}">  
  <link rel="stylesheet" href="{% static 'plugins/fontawesome-free-6/css/solid.css' %}">   

  <!-- SweetAlert2 2024 -->
  <link rel="stylesheet" href="{% static 'plugins/sweetalert2/sweetalert2.min.css' %}"> 

  <!-- Toastr -->
  <link rel="stylesheet" href="{% static 'plugins/toastr/toastr.min.css' %}">  

  <!-- DataTables -->
  <link rel="stylesheet" href="{% static 'plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
  <link rel="stylesheet" href="{% static 'plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
  <link rel="stylesheet" href="{% static 'plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}">  

  <!-- Theme style AdminLite -->
  <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">

  <!-- Efasoft style -->
  <link rel="stylesheet" href="{% static 'efasoft/efasoft.css' %}">     

  <!-- Carrousel 01 Cursos y Talleres -->
  <link rel="stylesheet" href="{% static 'efasoft/owl.carousel.min.css' %}">    
  <link rel="stylesheet" href="{% static 'efasoft/owl.theme.default.min.css' %}">  
  <link rel="stylesheet" href="{% static 'efasoft/style_car_01.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/4.5.6/css/ionicons.min.css">

  <!-- Carrousel 08 Staff de Profesoras -->
  <link rel="stylesheet" href="{% static 'efasoft/style_car_08.css' %}">   

  <!-- Carrousel 07 Opciones de nuestra Escuela -->
   <link rel="stylesheet" href="{% static 'efasoft/style_car_07.css' %}"> 
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">  

  <!-- Carrousel 03 Nuestro Blog 
  <link rel="stylesheet" href="{% static 'efasoft/style_car_03.css' %}">  -->

  <!-- BootSptrap 5.3.3 
  <link rel="stylesheet" href="{% static 'bootstrap-5.3.3-dist/css/bootstrap.min.css' %}">  --> 


</head>

<body class="hold-transition sidebar-mini layout-fixed  layout-navbar-fixed layout-footer-fixed">

<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light  shadow">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" data-accordion="true" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a class="nav-link"  href="/" role="button" data-toggle="tooltip" data-placement="right" title="Inicio">
          <i class="fa-solid fa-house"></i>
        </a>
      </li>    

      <li class="nav-item d-none d-sm-inline-block">
        <a class="nav-link"  href="#" role="button" data-toggle="tooltip" data-placement="right" title="Escribenos">
          <i class="fa-solid fa-envelope"></i>
        </a>
      </li>      
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
      <!-- Navbar Search -->
      <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button" data-toggle="tooltip" data-placement="left" title="Pantalla Completa">
          <i class="fas fa-expand-arrows-alt"></i>
        </a>
      </li>
      {% if user.is_staff %}
      <li class="nav-item">
        <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button"  data-toggle="tooltip" data-placement="left" title="Usuarios y Grupos">
          <i class="fas fa-users-cog"></i>
        </a>
      </li>
      {% endif %}
      <li class="nav-item">
        {% if user.is_active %}        
        <a href="#" class="nav-link" id="btnLogout" data-toggle="tooltip" data-placement="left" title="Cerrar Sesión">
          <i class="fas fa-sign-out-alt" style="color:red"></i>
        </a>
        {% else %}   
        <a href="{% url 'config:login'%}" class="nav-link"  data-toggle="tooltip" data-placement="left" title="Identificate">
          <i class="fas fa-user-lock" style="color:red"></i>
        </a>             
        {% endif %}        
      </li>      
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  {% block main_sidebar %}  
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="/" class="brand-link">
      &nbsp;&nbsp;<img class="animation__shake img-circle" src="{% static 'img/uesj_logo_01.jpg' %}" alt="UE San José" height="40" width="40" >      
      <span class="brand-text font-weight-light">UE San José</span>
    </a>
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->
      {% if user.is_active %} 
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="image">
          <img src="{% static 'img/ernesto_perfil.png' %}"  alt="Usuario activo" class="img-circle elevation-2">
        </div>
        <div class="info">
             <a href="#" class="d-block">{{user.get_full_name}}</a>

        </div>
      </div>
      {% endif %}  
      <!-- SidebarSearch Form -->
      <div class="form-inline">
        <div class="input-group" data-widget="sidebar-search">
          <input class="form-control form-control-sidebar" type="search" placeholder="Buscar" aria-label="Search">
          <div class="input-group-append">
            <button class="btn btn-sidebar">
              <i class="fas fa-search fa-fw"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Sidebar Menu -->
      <nav class="mt-2">
     
        <ul class="nav nav-pills nav-sidebar flex-column " data-widget="treeview" role="menu" data-accordion="false">
          <!-- MENÚ DE OPCIONES -->           
          {% if user.is_active %}
          <!-- OPCIONES PARA USUARIOS REGISTRADOS   -->    
          <!-- DIRECTORIO  -->          
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fa-solid fa-users-gear"></i>
              <p>
                Directorio
                <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:10px;"></i>
              </p>
            </a> 
            <!-- CATALOGOS    -->
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="#" class="nav-link" style="color:#FFF;">
                  <i class="fa-regular fa-swatchbook"></i>
                  <p><small>&nbsp;Catálogos</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Representantes</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Personal Doc. Adm. y Obr.</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Actualización de Sueldos.</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Actualización de Primas</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Cargos del Personal</small></p>
                    </a>
                  </li>
                  
                </ul>
              </li> 
              <!-- CATALOGOS - OTROS   -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-regular fa-swatchbook"></i>
                  <p><small>&nbsp;Catálogos adicionales</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Ciudades</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Entidades Bancarias</small></p>
                    </a>
                  </li> 
                 
                </ul>
              </li> 
              <!-- TRANSACCIONES    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-pen-to-square"></i>
                  <p><small>&nbsp;Transacciones</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Registro de calificación Final</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Carta de Buena Conducta 6º</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    {% if perms.directorio.view_situacion%}
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>      
                      <p><small>&nbsp;Alumnos - Repres. - Pers. a Historico</small></p>
                    </a>
                    {% endif %}
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Pasar alumnos de un grado a otro</small></p>
                    </a>
                  </li> 

                 
                  
                </ul>
              </li>       
              <!-- REPORTES DE REPRESENTANTES    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-print"></i>
                  <p><small>&nbsp;Reportes de Representantes</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Representantes</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Representantes por Grado y Sección</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>     
                      <p><small>&nbsp;Representantes e Hijos</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Carta de Morosidad</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Pagos por Inscripción - Total</small></p>
                    </a>
                  </li>    
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Diferencia en Mensualidades</small></p>
                    </a>
                  </li>                  
                  
                </ul>
              </li>   
              <!-- REPORTES DE ALUMNOS    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-print"></i>
                  <p><small>&nbsp;Reportes de Alumnos</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Alumnos</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Repitientes</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>     
                      <p><small>&nbsp;Calificaciones</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Cédula Escolar</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Hoja de Trabajo</small></p>
                    </a>
                  </li>    
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Control de Retardos</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Cuaderno de Nómina</small></p>
                    </a>
                  </li>  
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Constancias de Estudios</small></p>
                    </a>
                  </li>      
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Constancias de Inscripción</small></p>
                    </a>
                  </li>      
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Carnets</small></p>
                    </a>
                  </li>   
                  
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Total Alumnos - Resumen</small></p>
                    </a>
                  </li>                   
                  
                  
                </ul>
              </li>      
              <!-- REPORTES DE PERSONAL    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-print"></i>
                  <p><small>&nbsp;Reportes de Personal</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Control de Inasistencias</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Hoja de Trabajo</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>     
                      <p><small>&nbsp;Relación de Personals</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Constancias de Trabajo</small></p>
                    </a>
                  </li> 

   
                </ul>
              </li>   
              <!-- REPORTES DE AVEC    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-print"></i>
                  <p><small>&nbsp;Reportes de Avec</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Mensualidades por Grado</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Mensualidades por Sexo</small></p>
                    </a>
                  </li>                  
   
                </ul>
              </li>                           
              <!-- DEFINICIONES    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-screwdriver-wrench"></i>
                  <p><small>&nbsp;Definiciones</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Colaboración por Inscripción</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Meses del año Escolar</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    {% if perms.directorio.view_condicion_representante%}
                    <a href="{% url 'direc:condicion_representante_list'%}" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>      
                      <p><small>&nbsp;Condición - Representantes</small></p>
                    </a>
                    {% endif %}
                  </li> 

                  <li class="nav-item">
                    {% if perms.directorio.view_condicion_alumno%}
                    <a href="{% url 'direc:condicion_alumno_list'%}" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>                           
                      <p><small>&nbsp;Condición - Alumnos</small></p>
                    </a>
                    {% endif %}                    
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Movimientos - Alumnos</small></p>
                    </a>
                  </li>                  
                  
                </ul>
              </li>               
            </ul>
          </li>
          <!-- End DIRECTORIO    --> 
          <!-- CUENTAS POR COBRAR  -->          
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fa-solid fa-coins"></i>
              <p>
                Cuentas por Cobrar
                <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:10px;"></i>
              </p>
            </a> 

            <!-- TRANSACCIONES  -->
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="#" class="nav-link" style="color:#FFF;">
                  <i class="fa-solid fa-pen-to-square"></i>
                  <p><small>&nbsp;Transacciones</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Consulta de Saldo</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Generar Cuotas Mensuales</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Documentos a Cobrar</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Registreo de Pagos</small></p>
                    </a>
                  </li> 
                  
                </ul>
              </li> 
              <!-- REPORTES -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-print"></i>
                  <p><small>&nbsp;Reportes </small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Estado de Cuenta</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Documentos a Cobrar</small></p>
                    </a>
                  </li>                  

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>     
                      <p><small>&nbsp;Documentos NO COBRABLES</small></p>
                    </a>
                  </li> 

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Pagos recibidos</small></p>
                    </a>
                  </li> 
                  
                </ul>
              </li>   
              <!-- DEFINICIONES    -->
              <li class="nav-item">
                <a href="#" class="nav-link"  style="color:#FFF;">
                  <i class="fa-solid fa-screwdriver-wrench"></i>
                  <p><small>&nbsp;Definiciones</small>
                    <i class="right bi-arrow-right-circle" style="font-size: 1.2rem; top:3px; right:23px;"></i>  
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Definiciones Generales</small></p>
                    </a>
                  </li>

                  <li class="nav-item">
                    <a href="#" class="nav-link">
                      <i class="fa-solid fa-chevron-right fa-2xs"></i>
                      <p><small>&nbsp;Formas de Pagor</small></p>
                    </a>
                  </li>                  
                 
                </ul>
              </li>               
            </ul>
          </li>
          <!-- End DIRECTORIO    -->    
          <!-- End OPCIONES PARA USUARIOS REGISTRADOS   -->  
          {% else %}   
          <!-- OPCIONES PARA TODO EL PUBLICO  -->    
          <!-- NUESTRA ESCUELA  -->   
          <li class="nav-item">
            <a href="{% url 'config:home' %}" class="nav-link">
              <i class="nav-icon fa-solid fa-school"></i>
             <p>
              Nuestra Escuela
             </p>
            </a>
          </li>
          <!-- End NUESTRA ESCUELA  --> 
          <!-- STAFF DE DOCENTES  -->   
          <li class="nav-item">
            <a href="{% url 'config:staff_doc_uesj' %}" class="nav-link">
              <i class="nav-icon fa-solid fa-person-chalkboard"></i>
             <p>
              Staff de Docentes
             </p>
            </a>
          </li>
          <!-- End STAFF DE DOCENTES  -->      
          <!-- CURSOS Y TALLERES  -->   
          <li class="nav-item">
            <a href="{% url 'config:cursos_y_talleres' %}" class="nav-link">
              <i class="nav-icon fa-solid fa-chalkboard-user"></i>
             <p>
              Cursos y Talleres
             </p>
            </a>
          </li>
          <!-- End CURSOS Y TALLERTES  -->     
          <!-- PROXIMAS ACTIVIDADES  -->   
          <li class="nav-item">
            <a href="{% url 'config:proximas_actividades' %}" class="nav-link">
              <i class="nav-icon fa-solid fa-masks-theater"></i>
             <p>
              Próximas Actividades
             </p>
            </a>
          </li>
          <!-- End PROXIMAS ACTIVIDADES  -->        
          <!-- NUESTRO BLOGG  -->   
          <li class="nav-item">
            <a href="{% url 'config:nuestro_blog' %}" class="nav-link">
              <i class="nav-icon fa-solid fa-photo-film"></i>
             <p>
              Nuestro Blog
             </p>
            </a>
          </li>
          <!-- End NUESTRO BLOG  -->   
          <!-- GALERIA DE FOTOS  -->   
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fa-solid fa-image"></i>
             <p>
              Galería de Fotos
             </p>
            </a>
          </li>
          <!-- End GALERIA DE FOTOS  -->    
          <!--End OPCIONES PARA TODO EL PUBLICO  -->   
          {% endif %}           
          <!-- End MENÚ DE OPCIONES -->           
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>
  {% endblock main_sidebar %}
  <!-- Content Wrapper. Contains page content -->
  <div id="contenido-slider" class="content-wrapper img-fluid">
      {% block content_wrapper%}  
    <!-- Content Header (Page header) -->
    <div class="content-header">

    <!--
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">Starter Page</h1>
          </div><!-- /.col 
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Starter Page</li>
            </ol>
          </div><!-- /.col 
        </div><!-- /.row 
      </div><!-- /.container-fluid 
    -->  
    </div>
    {% endblock content_wrapper %}    
    <!-- /.content-header -->

    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">
          {% block content %}      

        {% endblock content %}        
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  {% block control_sidebar %}
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
    <div class="p-3">
      <h5>Administración de Usuarios</h5>
      <p> <a href="{% url 'config:users_list'%}" rel="noopener noreferrer"><i class="fas fa-user-lock"></i> Usuarios</a> </p>
      <p> <a href="{% url 'config:user_groups_list'%}" rel="noopener noreferrer"><i class="fas fa-users"></i> Grupos</a> </p>
    </div>
  </aside>
  {% endblock control_sidebar %}
  <!-- /.control-sidebar -->

  <!-- Main Footer -->
  {% block footer %}  
  <footer class="main-footer">
    <!-- To the right -->
    <div class="float-right d-none d-sm-inline">

    </div>
    <!-- Default to the left -->
    <small><strong>Desarrollo Web </strong></small>   
    <img src="{% static 'img/efa_soft.jpg' %}" alt="EFA Soft" height="27" width="50" > 
    </strong> <small><strong>Copyright &copy; 2024 </strong></small>  
  </footer>
  {% endblock footer %}  
</div>
<!-- ./wrapper -->

<!-- SCRIPTS REQUERIDOS -->

<!-- jQuery  Necesarios para los menus de AdminLite  y Slider --> 
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script> 

<!-- Tooltip  -->
<script src="{% static 'plugins/popper/popper.min.js' %}"></script>

<!-- Bootstrap 4  -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script> 

<!-- SweetAlert2 -->
<script src="{% static 'plugins/sweetalert2/sweetalert2.min.js' %}"></script>

<!-- Toastr -->
<script src="{% static 'plugins/toastr/toastr.min.js' %}"></script>

<!-- DataTables  & Plugins -->
<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script> 
<script src="{% static 'plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>

<script src="{% static 'plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static 'plugins/pdfmake/vfs_fonts.js' %}"></script>


<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>

<!-- Carrousel 01 Cursos y Talleres -->
<script src="{% static 'efasoft/js/popper.js' %}"></script>
<script src="{% static 'efasoft/js/owl.carousel.min.js' %}"></script>
<script src="{% static 'efasoft/js/main_efa_01.js' %}"></script>


<!-- Carrousel 07 Opciones de nuestra Escuela -->
<script src="{% static 'efasoft/js/main_efa_07.js' %}"></script>

<!-- Carrousel 08 Staff de Profesoras -->
<script src="{% static 'efasoft/js/main_efa_08.js' %}"></script>

<!-- Carrousel 03 Nuestro Blog 
<script src="{% static 'efasoft/js/main_efa_03.js' %}"></script>-->


<!-- BootSptrap 5.3.3 contiene Tooltip 
<script src="{% static 'bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js' %}"></script> 
<script src="{% static 'bootstrap-5.3.3-dist/js/bootstrap.min.js' %}"></script> -->


<script>

  $(document).ready(function(){ irArriba(); }); //Hacia arriba

  function irArriba(){
    $('.ir-arriba').click(function(){ $('body,html').animate({ scrollTop:'0px' },1000); });
    $(window).scroll(function(){
      if($(this).scrollTop() > 0){ $('.ir-arriba').slideDown(600); }else{ $('.ir-arriba').slideUp(600); }
    });
    $('.ir-abajo').click(function(){ $('body,html').animate({ scrollTop:'1000px' },1000); });
  }

  $("#btnLogout").click(function(e){
    Swal.fire({
      title: "¿Cerrar Sesión de {{user}}?",
      icon: 'question',
      showCancelButton: true,
      confirmButtonText: 'Si, cerrar',
      cancelButtonText: 'No cerrar',
    }).then((result)=>{
      console.log(result)
      if (result.isConfirmed){
        location.replace('{% url 'config:logout' %}')
      }
    })
  })


  function btnSinPrivilegios(){
    Swal.fire({  
      title: "",      
      icon: 'error',
      html: `
      <div>
         <small>El Usuario :</small> 
      </div>      
      <div class="callout callout-info bg-light shadow-sm">
        <h2>
           {{user.get_full_name }}
        </h2>
      </div>
      <div>      
      No tiene suficientes privilegios para cargar la opción solicitada.
      </div>
      <br>
      <div>
      <small>Para poder acceder, debes loguearte con un usuario con privilegios necesarios.</small> 
      </div>
      `,
      showClass: {
        popup: `
          animate__animated
          animate__fadeInUp
          animate__faster
        `
      },
      hideClass: {
        popup: `
          animate__animated
          animate__fadeOutDown
          animate__faster
        `
      },
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      showCancelButton: true,
      confirmButtonText: `
      <i class="fas fa-user-lock"></i> Identificate
    `,
      cancelButtonText: `
      <i class="fa-solid fa-house"></i> Inicio      
    `,
    }).then((result)=>{
      console.log(result)
      if (result.isConfirmed){
        location.replace('{% url 'config:login' %}');
      } else if (result.isDenied) {
        location.replace('{% url 'config:home' %}');                
      }
    })
  }


  $(document).ready(function(){
    var $enlaces = $(".nav>.nav-item>.nav-link.nav-link");

    $($enlaces).each(function(){
       var request_path = '{{request.path}}'
       console.log(request_path)
       var link= $(this).attr('href')

       if(request_path.includes(link) && link!="/"){
         var grp_padre = $(this).parent().parent().parent().parent().first()
         var contenedor = grp_padre.children("a")
         $(this).addClass("active")
         grp_padre.addClass("menu-open")
         contenedor.addClass("active")
       }
    })

    $('[data-widget="pushmenu"]').PushMenu('collapse')

    $("#tbl,#tblGrp-01,#tblGrp-02").DataTable({
      "lengthMenu": [5,10,15,20,25],    
      "language": {
      "sProcessing": "Procesando...",
      "sLengthMenu": "Mostrar _MENU_ registros",
      "sZeroRecords": "No se encontraron resultados",
      "sEmptyTable": "No existen datos que mostrar",
      "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
      "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
      "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
      "sInfoPostFix": "",
      "sSearch": "Buscar:",
      "sUrl": "",
      "sInfoThousands": ",",
      "sLoadingRecords": "Cargando...",
      "oPaginate": {
          "sFirst": "<span class='fa fa-angle-double-left'></span>",
          "sLast": "<span class='fa fa-angle-double-right'></span>",
          "sNext": "<span class='fa fa-angle-right'></span>",
          "sPrevious": "<span class='fa fa-angle-left'></span>"
      },
      "oAria": {
          "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
          "sSortDescending": ": Activar para ordenar la columna de manera descendente"
      }
    },
      dom: '<"row p-0 inline" <"col-md-3"l><"col-md-6 w-50 text-sm-center"><"col-md-3"f>>t<"row"<"col-sm-12 col-md-6 text-xs-left"i><"col-sm-12 col-md-6"p>>',
      "responsive": true, "lengthChange": true , "autoWidth": false,
      "buttons": ["csv", "excel", "pdf", "print"]
    }).buttons().container().appendTo('#tbl_wrapper .col-md-6:eq(0)');
  })


  /* Tooltip */
  $(function () {
    $('[data-toggle="tooltip"]').tooltip({
      boundary: "window",
      template:
        '<div class="tooltip tooltip-custom" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
    });
  });


  $("#btnEnviarDatos").click(function(e)
  {
   let enviodatos = document.getElementById('mis_datos');
   enviodatos.submit();
  })  

  function abrir_borrar(desc,url){
    Swal.fire({
      title: "¿Borrar?",
      text : `Se borrará ${desc}`,
      icon:"question",
      showCancelButton: true,
      cancelButtonColor: "#17A2B8",        
      confirmButtonText: `Si, Borrar`,
      cancelButtonText: `No borrar`,
      allowOutsideClick:false,
      confirmButtonClass: 'btn btn-danger',
      cancelButtonClass: 'btn btn-info',      
      reverseButtons: true,
      showClass: {
        popup: `
          animate__animated
          animate__fadeInDown
          animate__faster
        `
      },
      hideClass: {
        popup: `
          animate__animated
          animate__fadeOutDown
          animate__faster
        `
      }

    }).then((borrar) => {
      console.log(borrar)
      if(borrar.isConfirmed){
        var token = "{{csrf_token}}"
        $.ajax({
          headers : {"X-CSRFToken": token},
          type: "POST",
          url:url,
          success: function(r){
            if(r==="OK"){
              location.reload(true)
            }else{
              Swal.fire("Error Inesperado tratando de borrar registro "+ r)
            }
          },
          error: function(jqXHR, textStatus, errorThrow){
            Swal.fire(errorThrow,"","red")
          }
        })
      }else{
        Swal.fire("Registro No fue borrado... ACCION CANCELADA","","info")
      }
    })
  }

  function mensaje(msg,tipo="info"){
    var tst = `toastr.${tipo}('${msg}')`
    toastr.options = {
       "closeButton": true,
       "positionClass": "toast-top-center",
       "progressBar": true,
    }    
    eval(tst)
  }

  {% if messages %}
    {% for m in messages%}
    mensaje("{{m}}","{{ m.tags }}")
    {% endfor %}
  {% endif %}
    
</script>  

{% block js %}
{% endblock js%}
</body>
</html>
